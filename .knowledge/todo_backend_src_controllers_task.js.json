{"is_source_file": true, "format": "JavaScript", "description": "This file defines the TaskController class for handling HTTP endpoints related to task management in a server-side application. It includes methods for creating, listing, retrieving, updating, deleting tasks, and additional functions like fetching categories and reminders. The controller interacts with a taskService for data operations and uses Swagger annotations for API documentation.", "external_files": ["../services/task"], "external_methods": ["taskService.createTask", "taskService.getTasks", "taskService.getTaskById", "taskService.updateTask", "taskService.deleteTask", "taskService.getCategories", "taskService.getTasksDueSoon"], "published": ["new TaskController()"], "classes": [{"name": "TaskController", "description": "Handles HTTP endpoints for tasks, interfacing with taskService for data operations and processing incoming requests and responses."}], "methods": [{"name": "create(req, res)", "description": "Creates a new task using data from the request body and user context.", "scope": "TaskController", "scopeKind": "class"}, {"name": "list(req, res)", "description": "Retrieves a list of tasks, supporting optional filtering by category and completion status.", "scope": "TaskController", "scopeKind": "class"}, {"name": "get", "description": "Fetches a single task by its ID."}, {"name": "update", "description": "Updates an existing task identified by its ID with new data."}, {"name": "delete", "description": "Deletes a task by its ID."}, {"name": "categories", "description": "Fetches distinct categories for the user's tasks."}, {"name": "reminders", "description": "Retrieves tasks with upcoming due dates within a specified range."}], "calls": ["taskService.createTask", "taskService.getTasks", "taskService.getTaskById", "taskService.updateTask", "taskService.deleteTask", "taskService.getCategories", "taskService.getTasksDueSoon"], "search-terms": ["TaskController", "taskService", "task creation", "task listing", "task retrieval", "task update", "task deletion", "categories", "reminders", "Swagger annotations"], "state": 2, "file_id": 20, "knowledge_revision": 48, "git_revision": "6236cb9beb11585a680f7f3890e1ece1b7328573", "ctags": [{"_type": "tag", "name": "TaskController", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^class TaskController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "categories", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^      const categories = await taskService.getCategories(req.user.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^  async create(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "TaskController", "scopeKind": "class"}, {"_type": "tag", "name": "days", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^    const days = req.query.days ? parseInt(req.query.days, 10) : 1;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^module.exports = new TaskController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^  async list(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "TaskController", "scopeKind": "class"}, {"_type": "tag", "name": "reminders", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^      const reminders = await taskService.getTasksDueSoon(req.user.id, days);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "req", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "TaskController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^        return res.status(404).json({ message: 'Task not found' });$/", "language": "JavaScript", "kind": "field", "scope": "TaskController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "TaskController", "scopeKind": "class"}, {"_type": "tag", "name": "task", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^      const task = await taskService.deleteTask(req.user.id, req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "task", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^      const task = await taskService.getTaskById(req.user.id, req.params.id);$/", "language": "JavaScript", "kind": "field", "scope": "TaskController", "scopeKind": "class"}, {"_type": "tag", "name": "task", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^      const task = await taskService.updateTask(req.user.id, req.params.id, req.body);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "task", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^      if (!task) {$/", "language": "JavaScript", "kind": "field", "scope": "TaskController", "scopeKind": "class"}, {"_type": "tag", "name": "taskService", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/controllers/task.js", "pattern": "/^const taskService = require('..\\/services\\/task');$/", "language": "JavaScript", "kind": "constant"}], "hash": "6b4bfb93db83bd7c0b120f3d438ec131", "format-version": 4, "code-base-name": "todo_backend", "filename": "todo_backend/src/controllers/task.js", "fields": [{"name": "module.exports = new TaskController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "async get(req, res) {", "scope": "TaskController", "scopeKind": "class", "description": "unavailable"}, {"name": "return res.status(404).json({ message: 'Task not found' });", "scope": "TaskController", "scopeKind": "class", "description": "unavailable"}, {"name": "const task = await taskService.getTaskById(req.user.id, req.params.id);", "scope": "TaskController", "scopeKind": "class", "description": "unavailable"}, {"name": "if (!task) {", "scope": "TaskController", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"48": "6236cb9beb11585a680f7f3890e1ece1b7328573"}]}