{"is_source_file": true, "format": "JavaScript", "description": "This source file defines the TaskService class that implements business logic for CRUD operations and related functions on Task objects within a task management system. It handles creating, retrieving, updating, deleting tasks, retrieving tasks due soon, and fetching task categories.", "external_files": ["../models/Task"], "external_methods": ["Task.prototype.save", "Task.find", "Task.findOne", "Task.findOneAndUpdate", "Task.findOneAndDelete", "Task.distinct"], "published": ["new TaskService()"], "classes": [{"name": "TaskService", "description": "A class encapsulating the logic for managing tasks including creation, retrieval, updates, deletion, and auxiliary functions like fetching upcoming tasks and categories."}], "methods": [{"name": "createTask(userId, data)", "description": "Creates a new task for a user and saves it to the database.", "scope": "TaskService", "scopeKind": "class"}, {"name": "getTasks(userId, filters = {})", "description": "Retrieves all tasks for a specific user, with optional filtering.", "scope": "TaskService", "scopeKind": "class"}, {"name": "getTaskById(userId, taskId)", "description": "Fetches a single task belonging to the user by its ID.", "scope": "TaskService", "scopeKind": "class"}, {"name": "updateTask(userId, taskId, updates)", "description": "Updates an existing task based on provided updates.", "scope": "TaskService", "scopeKind": "class"}, {"name": "deleteTask(userId, taskId)", "description": "Deletes a specific task belonging to a user.", "scope": "TaskService", "scopeKind": "class"}, {"name": "getTasksDueSoon(userId, days = 1)", "description": "Retrieves tasks due within a specified number of days for a user.", "scope": "TaskService", "scopeKind": "class"}, {"name": "getCategories(userId)", "description": "Fetches distinct task categories associated with the user.", "scope": "TaskService", "scopeKind": "class"}], "calls": ["Task.prototype.save", "Task.find", "Task.findOne", "Task.findOneAndUpdate", "Task.findOneAndDelete", "Task.distinct"], "search-terms": ["task service", "CRUD tasks", "task model interaction", "due date reminders", "task categories"], "state": 2, "file_id": 19, "knowledge_revision": 39, "git_revision": "", "ctags": [{"_type": "tag", "name": "Task", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^const Task = require('..\\/models\\/Task');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TaskService", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^class TaskService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "createTask", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^  async createTask(userId, data) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, data)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "deleteTask", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^  async deleteTask(userId, taskId) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, taskId)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^module.exports = new TaskService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "getCategories", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^  async getCategories(userId) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "getTaskById", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^  async getTaskById(userId, taskId) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, taskId)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "getTasks", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^  async getTasks(userId, filters = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, filters = {})", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "getTasksDueSoon", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^  async getTasksDueSoon(userId, days = 1) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, days = 1)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^    const query = { user: userId, ...filters };$/", "language": "JavaScript", "kind": "class", "scope": "TaskService.getTasks", "scopeKind": "class"}, {"_type": "tag", "name": "updateTask", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^  async updateTask(userId, taskId, updates) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, taskId, updates)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/fullstack-to-do-tracker-51261-51270/todo_backend/src/services/task.js", "pattern": "/^    const query = { user: userId, ...filters };$/", "language": "JavaScript", "kind": "property", "scope": "TaskService.getTasks.query", "scopeKind": "class"}], "hash": "d15c1091d2e0ec2efa1bc9b23b31ba6e", "format-version": 4, "code-base-name": "todo_backend", "filename": "todo_backend/src/services/task.js", "fields": [{"name": "module.exports = new TaskService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "const query = { user: userId, ...filters };", "scope": "TaskService.getTasks.query", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"39": ""}]}